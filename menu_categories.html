<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Menu Categories</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--sidebar-bg:#043362;--primary:#1c7ced;--light-bg:#f4f6fb}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Poppins;background:var(--light-bg)}
.app-layout{display:flex;min-height:100vh}

.sidebar{
width:250px;background:var(--sidebar-bg);color:#fff;
padding:22px 18px;display:flex;flex-direction:column;justify-content:space-between
}
.sidebar-btn{
padding:9px;border:none;border-radius:6px;
background:rgba(255,255,255,.08);color:#e5e7eb;text-align:left;cursor:pointer
}
.sidebar-btn.active{background:#fff;color:var(--sidebar-bg);font-weight:600}
.logout-btn{background:#ef4444;color:#fff;border:none;border-radius:6px;padding:9px}

.main{flex:1;padding:20px;display:flex;flex-direction:column;gap:16px}
.top-nav{background:#fff;padding:10px 16px;border-radius:10px;display:flex;justify-content:space-between}
.card{background:#fff;padding:16px;border-radius:10px}

input{
padding:8px;border-radius:6px;border:1px solid #d1d5db;width:260px
}
.btn-primary{
margin-top:8px;padding:9px 14px;background:var(--primary);
color:#fff;border:none;border-radius:6px;font-weight:600
}
.error-text{color:#dc2626;font-size:.8rem}

table{margin-top:12px;width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid #e5e7eb;text-align:left}
.action-btn{border:none;background:none;color:#2563eb;cursor:pointer}
.action-btn.delete{color:#dc2626}
</style>
</head>

<body>
<div class="app-layout">

<aside class="sidebar">
<div>
<button class="sidebar-btn active">Menu Categories</button>
<button class="sidebar-btn" onclick="location.href='menu_items.html'">Menu Items</button>
</div>
<button class="logout-btn">Logout</button>
</aside>

<main class="main">

<div class="top-nav">
<strong>Menu Categories</strong>
<span>Admin</span>
</div>

<div class="card">
<form id="categoryForm">
<input type="hidden" id="editIndex" value="-1">

<input id="categoryName" placeholder="Category name">
<div id="categoryError" class="error-text"></div>

<button class="btn-primary">Save Category</button>
</form>

<table>
<thead>
<tr>
<th>Category</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="categoryBody"></tbody>
</table>
</div>

</main>
</div>

<script>
let categories = JSON.parse(localStorage.getItem('categories')) || [];

function save(){
localStorage.setItem('categories',JSON.stringify(categories));
}

function render(){
categoryBody.innerHTML='';
categories.forEach((c,i)=>{
categoryBody.innerHTML+=`
<tr>
<td>${c}</td>
<td>
<button class="action-btn" onclick="editCategory(${i})">Edit</button>
<button class="action-btn delete" onclick="deleteCategory(${i})">Delete</button>
</td>
</tr>`;
});
}

categoryForm.onsubmit=e=>{
e.preventDefault();
categoryError.textContent='';

let name=categoryName.value.trim();
let index=+editIndex.value;

if(!name){
categoryError.textContent='Category name required';
return;
}

if(categories.includes(name) && categories[index]!==name){
categoryError.textContent='Category already exists';
return;
}

if(index>=0){
categories[index]=name;
}else{
categories.push(name);
}

save();
categoryForm.reset();
editIndex.value=-1;
render();
};

function editCategory(i){
categoryName.value=categories[i];
editIndex.value=i;
}

function deleteCategory(i){
if(!confirm(`Delete "${categories[i]}"?`)) return;
categories.splice(i,1);
save();
render();
}

render();
</script>
</body>
</html>